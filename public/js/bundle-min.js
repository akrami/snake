!function(){return function e(t,l,i){function n(o,a){if(!l[o]){if(!t[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(r)return r(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=l[o]={exports:{}};t[o][0].call(c.exports,function(e){return n(t[o][1][e]||e)},c,c.exports,e,t,l,i)}return l[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}}()({"/home/alireza/extra/projects/snake/app-client.js":[function(e,t,l){const i=document.getElementById("canvas").getContext("2d"),n=20;let r=[];r[0]={i:10,j:10};let o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},a=0,f=0,s={i:0,j:0},c="RIGHT",T=!1,d=300,j=!1,x=!1;var y=()=>{if(i.fillStyle="#c5bfbc",i.fillRect(0,0,440,540),i.fillStyle="#7cad51",i.fillRect(20,20,400,400),i.beginPath(),i.moveTo(0,0),i.lineTo(440,0),i.lineTo(430,10),i.lineTo(10,10),i.lineTo(10,530),i.lineTo(0,540),i.fillStyle="rgba(255,255,255,0.2)",i.fill(),i.beginPath(),i.moveTo(420,420),i.lineTo(20,420),i.lineTo(25,415),i.lineTo(415,415),i.lineTo(415,25),i.lineTo(420,20),i.fillStyle="rgba(255,255,255,0.2)",i.fill(),i.beginPath(),i.moveTo(440,540),i.lineTo(440,0),i.lineTo(430,10),i.lineTo(430,530),i.lineTo(10,530),i.lineTo(0,540),i.fillStyle="rgba(0,0,0,0.2)",i.fill(),i.beginPath(),i.moveTo(20,20),i.lineTo(420,20),i.lineTo(415,25),i.lineTo(25,25),i.lineTo(25,415),i.lineTo(20,420),i.fillStyle="rgba(0,0,0,0.2)",i.fill(),!T&&!j){x=!1;let e={i:r[0].i+s.i,j:r[0].j+s.j};e.i=e.i<0?19:e.i,e.i=e.i>19?0:e.i,e.j=e.j<0?19:e.j,e.j=e.j>19?0:e.j,!r.find(t=>t.i===e.i&&t.j===e.j)||0==s.i&&0==s.j||(j=!0),e.i==o.i&&e.j==o.j?(f=++a>f?a:f,o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},d=d>50?d-5:d,clearInterval(p),p=setInterval(y,d)):r.pop(),r.unshift(e)}r.forEach((e,t)=>{i.fillStyle=0==t?"rgba(14,10,9,0.75)":"rgba(14,10,9,0.5)",i.fillRect(22+e.i*n,22+e.j*n,16,16)}),i.beginPath(),i.arc(30+o.i*n,30+o.j*n,8,0,2*Math.PI),i.fillStyle="darkred",i.fill(),i.fillStyle="white",i.font="23px 'Press Start 2P'",i.textBaseline="top",i.textAlign="left",i.fillText(`Score: ${a}`,20,440),i.fillStyle="white",i.font="23px 'Press Start 2P'",i.textBaseline="top",i.textAlign="left",i.fillText(`Top Score: ${f}`,20,480),T?(i.fillStyle="rgba(108,157,65,0.8)",i.fillRect(40,120,360,200),i.fillStyle="black",i.font="32px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("PAUSED",220,200),i.fillStyle="#222222",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("press <space> to continue",220,260)):j&&(i.fillStyle="darkred",i.fillRect(40,120,360,200),i.fillStyle="black",i.font="32px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("GAME OVER",220,180),i.fillStyle="#eeeeee",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText(`your final score is ${a}`,220,240),i.fillStyle="#eeeeee",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("press <space> to restart",220,280))};document.addEventListener("keydown",e=>{if(37!=e.keyCode||"RIGHT"==c||T||j||x)if(38!=e.keyCode||"DOWN"==c||T||j||x)if(39!=e.keyCode||"LEFT"==c||T||j||x)if(40!=e.keyCode||"UP"==c||T||j||x)if(32!=e.keyCode||T||j||x)if(32!=e.keyCode||!T||j||x)32==e.keyCode&&j&&((r=[])[0]={i:10,j:10},o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},a=0,s={i:0,j:0},c="RIGHT",T=!1,d=300,j=!1,x=!1,clearInterval(p),p=setInterval(y,d));else switch(x=!0,T=!1,c){case"LEFT":s={i:-1,j:0};break;case"UP":s={i:0,j:-1};break;case"RIGHT":s={i:1,j:0};break;case"DOWN":s={i:0,j:1}}else T=!0,s={i:0,j:0};else x=!0,c="DOWN",s={i:0,j:1};else x=!0,c="RIGHT",s={i:1,j:0};else x=!0,c="UP",s={i:0,j:-1};else x=!0,c="LEFT",s={i:-1,j:0}});let p=setInterval(y,d)},{}]},{},["/home/alireza/extra/projects/snake/app-client.js"]);