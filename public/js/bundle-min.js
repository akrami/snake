!function(){return function e(l,t,i){function n(o,a){if(!t[o]){if(!l[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(r)return r(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var c=t[o]={exports:{}};l[o][0].call(c.exports,function(e){return n(l[o][1][e]||e)},c,c.exports,e,l,t,i)}return t[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}}()({"/home/alireza/extra/projects/snake/app-client.js":[function(e,l,t){const i=document.getElementById("canvas").getContext("2d"),n=20;let r=[];r[0]={i:10,j:10};let o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},a=0,f={i:0,j:0},s="RIGHT",c=!1,d=300,T=!1,j=!1;var x=()=>{if(i.fillStyle="#c5bfbc",i.fillRect(0,0,440,540),i.fillStyle="#7cad51",i.fillRect(20,20,400,400),i.beginPath(),i.moveTo(0,0),i.lineTo(440,0),i.lineTo(430,10),i.lineTo(10,10),i.lineTo(10,530),i.lineTo(0,540),i.fillStyle="rgba(255,255,255,0.2)",i.fill(),i.beginPath(),i.moveTo(420,420),i.lineTo(20,420),i.lineTo(25,415),i.lineTo(415,415),i.lineTo(415,25),i.lineTo(420,20),i.fillStyle="rgba(255,255,255,0.2)",i.fill(),i.beginPath(),i.moveTo(440,540),i.lineTo(440,0),i.lineTo(430,10),i.lineTo(430,530),i.lineTo(10,530),i.lineTo(0,540),i.fillStyle="rgba(0,0,0,0.2)",i.fill(),i.beginPath(),i.moveTo(20,20),i.lineTo(420,20),i.lineTo(415,25),i.lineTo(25,25),i.lineTo(25,415),i.lineTo(20,420),i.fillStyle="rgba(0,0,0,0.2)",i.fill(),!c&&!T){j=!1;let e={i:r[0].i+f.i,j:r[0].j+f.j};e.i=e.i<0?19:e.i,e.i=e.i>19?0:e.i,e.j=e.j<0?19:e.j,e.j=e.j>19?0:e.j,!r.find(l=>l.i===e.i&&l.j===e.j)||0==f.i&&0==f.j||(T=!0),e.i==o.i&&e.j==o.j?(a++,o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},d=d>50?d-5:d,clearInterval(y),y=setInterval(x,d)):r.pop(),r.unshift(e)}r.forEach((e,l)=>{i.fillStyle=0==l?"rgba(14,10,9,0.75)":"rgba(14,10,9,0.5)",i.fillRect(22+e.i*n,22+e.j*n,16,16)}),i.beginPath(),i.arc(30+o.i*n,30+o.j*n,8,0,2*Math.PI),i.fillStyle="darkred",i.fill(),i.fillStyle="white",i.font="23px 'Press Start 2P'",i.textBaseline="top",i.textAlign="left",i.fillText(`Score: ${a}`,20,440),c?(i.fillStyle="rgba(108,157,65,0.8)",i.fillRect(40,120,360,200),i.fillStyle="black",i.font="32px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("PAUSED",220,200),i.fillStyle="#222222",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("press <space> to continue",220,260)):T&&(i.fillStyle="darkred",i.fillRect(40,120,360,200),i.fillStyle="black",i.font="32px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("GAME OVER",220,180),i.fillStyle="#eeeeee",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText(`your final score is ${a}`,220,240),i.fillStyle="#eeeeee",i.font="12px 'Press Start 2P'",i.textBaseline="middle",i.textAlign="center",i.fillText("press <space> to restart",220,280))};document.addEventListener("keydown",e=>{if(37!=e.keyCode||"RIGHT"==s||c||T||j)if(38!=e.keyCode||"DOWN"==s||c||T||j)if(39!=e.keyCode||"LEFT"==s||c||T||j)if(40!=e.keyCode||"UP"==s||c||T||j)if(32!=e.keyCode||c||T||j)if(32!=e.keyCode||!c||T||j)32==e.keyCode&&T&&((r=[])[0]={i:10,j:10},o={i:Math.floor(20*Math.random()),j:Math.floor(20*Math.random())},a=0,f={i:0,j:0},s="RIGHT",c=!1,d=300,T=!1,j=!1,clearInterval(y),y=setInterval(x,d));else switch(j=!0,c=!1,s){case"LEFT":f={i:-1,j:0};break;case"UP":f={i:0,j:-1};break;case"RIGHT":f={i:1,j:0};break;case"DOWN":f={i:0,j:1}}else c=!0,f={i:0,j:0};else j=!0,s="DOWN",f={i:0,j:1};else j=!0,s="RIGHT",f={i:1,j:0};else j=!0,s="UP",f={i:0,j:-1};else j=!0,s="LEFT",f={i:-1,j:0}});let y=setInterval(x,d)},{}]},{},["/home/alireza/extra/projects/snake/app-client.js"]);